{% extends "base.html" %}

{% block title %}
Planora â€” Event Management System
{% endblock %}

{% block head %}
<link rel="stylesheet" href="/css/home.css" />
<style>
    .showcase-img-container {
        width: 100%;
        max-width: 200px;
        /* limit max width */
        height: 140px;
        /* fixed height to control aspect ratio */
        border-radius: 6px;
        margin-bottom: 0.8rem;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        flex-shrink: 0;
    }

    /* Responsive adjustment */
    @media (max-width: 768px) {
        .showcase-img-container {
            max-width: 100%;
            height: 180px;
        }
    }
</style>
{% endblock %}

{% block body %}
<nav class="secondary">
    <!-- Product Logo -->
    <div class="logo">
        <img src="/images/planora.png" alt="Planora Logo">
    </div>
    <!-- Desktop Menu -->
    <div class="menu">
        <div class="theme-toggler border">
            <img src="/images/icons/moon-stars-svgrepo-com.svg" alt="Toggle Theme">
        </div>
        <div class="container">
            <a href="/events/create" class="btn primary primary-foreground border">Create Event</a>
        </div>
    </div>
    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <div class="theme-toggler border">
            <img src="/images/icons/moon-stars-svgrepo-com.svg" alt="Toggle Theme">
        </div>
        <!-- Hamburger icon -->
        <div class="menu-icon">
            <img src="/images/icons/menu-dark.svg" alt="Menu">
        </div>
        <div class="container background">
            <!-- Close icon -->
            <div class="close-icon">
                <img src="/images/icons/close-dark.svg" alt="Close">
            </div>
            <a href="/events/create" class="btn primary primary-foreground border">Create Event</a>
        </div>
    </div>
</nav>

<main class="background">
    <!-- Featured Event -->
    {% if events %}
    <div class="featured-container secondary">
        <div>
            <h3 class="foreground" style="margin-bottom: 15px;">ðŸŽ‰ Featured: {{ events[0].title }}</h3>
            <p class="foreground">{{ events[0].date }} | {{ events[0].location or "TBA" }}</p>
        </div>
        <div>
            <a href="/events/{{ events[0].id }}" class="btn primary primary-foreground border">Learn More</a>
        </div>
    </div>
    {% endif %}

    <!-- Upcoming Events List -->
    {% if events|length > 1 %}
    <section class="event-showcase-section foreground">
        <h1>Upcoming Events</h1>
        <div class="event-showcase-container">
            {% for event in events[0:] %}
            <div class="showcase-container secondary border">
                <div class="showcase-img-container" style="background-image: url('{{ event.image_url }}')"
                    aria-label="{{ event.title }} Banner Image" role="img"></div>
                <div class="showcase-description-container">
                    <div>
                        <p class="showcase-title">{{ event.title }}</p>
                        <p class="showcase-details">{{ event.date }} | {{ event.location or "TBA" }}</p>
                    </div>
                    <a href="/events/{{ event.id }}" class="btn primary primary-foreground">View</a>
                </div>
            </div>
            {% endfor %}
        </div>
    </section>
    {% endif %}
</main>

<footer class="secondary">
    <p class="foreground">&copy;2025 Planora-All Rights Reserved</p>
</footer>

<script>
    const urls = {
        sun: "/images/icons/sun-svgrepo-com.svg",
        moon: "/images/icons/moon-stars-svgrepo-com.svg",
        closeDark: "/images/icons/close-dark.svg",
        closeLight: "/images/icons/close-light.svg",
        menuDark: "/images/icons/menu-dark.svg",
        menuLight: "/images/icons/menu-light.svg"
    };
</script>
<script src="/js/index.js"></script>
{% endblock %}